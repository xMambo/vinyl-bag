{"ast":null,"code":"import _defineProperty from \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/src/pages/addItem.js\";\nimport React, { Component } from 'react';\nimport defaultImage from \"../assets/images.png\";\nimport { Redirect } from 'react-router';\n\nvar AddItem =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddItem, _Component);\n\n  function AddItem() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, AddItem);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(AddItem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      name: null,\n      description: null,\n      image: null,\n      price: null,\n      redirect: false\n    };\n\n    _this.getInputValues = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.createItem = function (e) {\n      e.preventDefault();\n      var item = {\n        name: _this.state.name,\n        description: _this.state.description,\n        image: _this.state.image,\n        amount: _this.state.price\n      };\n      var options = {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(item)\n      };\n\n      if (_this.state.description && _this.state.image && _this.state.name && _this.state.price) {\n        fetch(\"http://localhost:8000/items\", options).then(function (res) {\n          console.log(res);\n\n          _this.setState({\n            redirect: true\n          });\n        });\n      } else {\n        console.log(\"The form is not valid to be sent\");\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(AddItem, [{\n    key: \"render\",\n    value: function render() {\n      var isImgReady = this.state.image;\n      var imagePreview;\n\n      if (isImgReady) {\n        imagePreview = React.createElement(\"img\", {\n          src: this.state.image,\n          alt: \"product \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        });\n      } else {\n        imagePreview = React.createElement(\"img\", {\n          src: defaultImage,\n          alt: \"default preview\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        });\n      }\n\n      var redirect = this.state.redirect;\n\n      if (redirect) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, \"Create a new item\"), React.createElement(\"div\", {\n        className: \"itemCreation\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.createItem,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Product Name: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        onChange: this.getInputValues,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Product Description: \"), React.createElement(\"textarea\", {\n        name: \"description\",\n        onChange: this.getInputValues,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Product Price: \"), React.createElement(\"input\", {\n        type: \"number\",\n        name: \"price\",\n        onChange: this.getInputValues,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Product Image: \"), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"image\",\n        onChange: this.getInputValues,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"create post\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"preview\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, imagePreview, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Product Name: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" \", this.state.name)), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Product Description: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \" \", this.state.description), \" \"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Product Price: \", React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \" \", this.state.price, \" \"))))));\n    }\n  }]);\n\n  return AddItem;\n}(Component);\n\nexport default AddItem;","map":{"version":3,"sources":["/Users/kevinmiller/VBC/homework/Vinyl-Bag/client/src/pages/addItem.js"],"names":["React","Component","defaultImage","Redirect","AddItem","state","name","description","image","price","redirect","getInputValues","e","setState","target","value","createItem","preventDefault","item","amount","options","method","headers","body","JSON","stringify","fetch","then","res","console","log","isImgReady","imagePreview"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport defaultImage from \"../assets/images.png\";\nimport { Redirect } from 'react-router';\n\nclass AddItem extends Component {\n\n  state = {\n    name: null,\n    description: null,\n    image: null,\n    price: null,\n    redirect: false\n  }\n  \n  getInputValues = (e) => {\n    this.setState({[e.target.name]: e.target.value });\n\n  }\n\n  createItem = (e) => {\n    e.preventDefault();\n    const item = {\n      name : this.state.name,\n      description :  this.state.description,\n      image: this.state.image,\n      amount: this.state.price\n    }\n    const options = { \n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n         body: JSON.stringify(item)\n    \n    } \n\n    if(this.state.description && this.state.image && this.state.name && this.state.price ){\n      fetch(\"http://localhost:8000/items\", options)\n      .then(res => {\n        console.log(res);\n        this.setState({redirect: true});\n      })\n    }else {\n      console.log(\"The form is not valid to be sent\")\n    }\n\n  }\n\n\n  render() {\n    const isImgReady = this.state.image;\n    let imagePreview;\n\n    if(isImgReady) {\n      imagePreview = <img src={this.state.image} alt=\"product \"/>\n    }else {\n      imagePreview = <img src={defaultImage} alt=\"default preview\"/>\n    }\n\n    const redirect = this.state.redirect;\n    if(redirect){\n        return <Redirect to=\"/\" />  \n    }\n    return (\n      <React.Fragment>\n          <section >\n          <div className=\"banner\"></div>\n          <h2>Create a new item</h2>\n\n      <div className=\"itemCreation\">\n          <form onSubmit={this.createItem}>\n           <div className=\"control\">\n            <label htmlFor=\"name\">Product Name: </label>\n            <input type=\"text\" name=\"name\" onChange={this.getInputValues} />\n            </div>\n\n            <div className=\"control\">\n            <label htmlFor=\"description\">Product Description: </label>\n            <textarea name=\"description\" onChange={this.getInputValues} ></textarea>\n            </div>\n\n            <div className=\"control\">\n            <label htmlFor=\"price\">Product Price: </label>\n            <input type=\"number\" name=\"price\" onChange={this.getInputValues} />\n            </div>\n            \n            <div className=\"control\">\n            <label htmlFor=\"image\">Product Image: </label>\n            <input type=\"text\" name=\"image\" onChange={this.getInputValues} />\n            </div>\n            \n            <input type=\"submit\" value=\"create post\" />\n         </form>\n\n          <div className=\"preview\">\n          \n            {imagePreview}\n            <p>Product Name: <strong> {this.state.name}</strong></p>\n            <p>Product Description: <strong> {this.state.description}</strong> </p>\n            <p>Product Price: <strong> {this.state.price} </strong></p>\n            \n          </div>\n\n        </div>\n\n         </section>\n\n\n      </React.Fragment>\n    );\n  }\n}\n\nexport default AddItem;\n"]},"metadata":{},"sourceType":"module"}